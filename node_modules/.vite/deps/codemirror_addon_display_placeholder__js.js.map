{
  "version": 3,
  "sources": ["../../codemirror/addon/display/placeholder.js"],
  "sourcesContent": ["// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\r\n\r\n(function(mod) {\r\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n  CodeMirror.defineOption(\"placeholder\", \"\", function(cm, val, old) {\r\n    var prev = old && old != CodeMirror.Init;\r\n    if (val && !prev) {\r\n      cm.on(\"blur\", onBlur);\r\n      cm.on(\"change\", onChange);\r\n      cm.on(\"swapDoc\", onChange);\r\n      CodeMirror.on(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose = function() { onComposition(cm) })\r\n      onChange(cm);\r\n    } else if (!val && prev) {\r\n      cm.off(\"blur\", onBlur);\r\n      cm.off(\"change\", onChange);\r\n      cm.off(\"swapDoc\", onChange);\r\n      CodeMirror.off(cm.getInputField(), \"compositionupdate\", cm.state.placeholderCompose)\r\n      clearPlaceholder(cm);\r\n      var wrapper = cm.getWrapperElement();\r\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\r\n    }\r\n\r\n    if (val && !cm.hasFocus()) onBlur(cm);\r\n  });\r\n\r\n  function clearPlaceholder(cm) {\r\n    if (cm.state.placeholder) {\r\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\r\n      cm.state.placeholder = null;\r\n    }\r\n  }\r\n  function setPlaceholder(cm) {\r\n    clearPlaceholder(cm);\r\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\r\n    elt.style.cssText = \"height: 0; overflow: visible\";\r\n    elt.style.direction = cm.getOption(\"direction\");\r\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\r\n    var placeHolder = cm.getOption(\"placeholder\")\r\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder)\r\n    elt.appendChild(placeHolder)\r\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\r\n  }\r\n\r\n  function onComposition(cm) {\r\n    setTimeout(function() {\r\n      var empty = false\r\n      if (cm.lineCount() == 1) {\r\n        var input = cm.getInputField()\r\n        empty = input.nodeName == \"TEXTAREA\" ? !cm.getLine(0).length\r\n          : !/[^\\u200b]/.test(input.querySelector(\".CodeMirror-line\").textContent)\r\n      }\r\n      if (empty) setPlaceholder(cm)\r\n      else clearPlaceholder(cm)\r\n    }, 20)\r\n  }\r\n\r\n  function onBlur(cm) {\r\n    if (isEmpty(cm)) setPlaceholder(cm);\r\n  }\r\n  function onChange(cm) {\r\n    var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);\r\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\r\n\r\n    if (empty) setPlaceholder(cm);\r\n    else clearPlaceholder(cm);\r\n  }\r\n\r\n  function isEmpty(cm) {\r\n    return (cm.lineCount() === 1) && (cm.getLine(0) === \"\");\r\n  }\r\n});\r\n"],
  "mappings": ";;;;;;;;AAAA;AAAA;AAGA,KAAC,SAAS,KAAK;AACb,UAAI,OAAO,WAAW,YAAY,OAAO,UAAU;AACjD,YAAI,oBAA+B;AAAA,eAC5B,OAAO,UAAU,cAAc,OAAO;AAC7C,eAAO,CAAC,sBAAsB,GAAG,GAAG;AAAA;AAEpC,YAAI,UAAU;AAAA,IAClB,GAAG,SAASA,aAAY;AACtB,MAAAA,YAAW,aAAa,eAAe,IAAI,SAAS,IAAI,KAAK,KAAK;AAChE,YAAI,OAAO,OAAO,OAAOA,YAAW;AACpC,YAAI,OAAO,CAAC,MAAM;AAChB,aAAG,GAAG,QAAQ,MAAM;AACpB,aAAG,GAAG,UAAU,QAAQ;AACxB,aAAG,GAAG,WAAW,QAAQ;AACzB,UAAAA,YAAW,GAAG,GAAG,cAAc,GAAG,qBAAqB,GAAG,MAAM,qBAAqB,WAAW;AAAE,0BAAc,EAAE;AAAA,UAAE,CAAC;AACrH,mBAAS,EAAE;AAAA,QACb,WAAW,CAAC,OAAO,MAAM;AACvB,aAAG,IAAI,QAAQ,MAAM;AACrB,aAAG,IAAI,UAAU,QAAQ;AACzB,aAAG,IAAI,WAAW,QAAQ;AAC1B,UAAAA,YAAW,IAAI,GAAG,cAAc,GAAG,qBAAqB,GAAG,MAAM,kBAAkB;AACnF,2BAAiB,EAAE;AACnB,cAAI,UAAU,GAAG,kBAAkB;AACnC,kBAAQ,YAAY,QAAQ,UAAU,QAAQ,qBAAqB,EAAE;AAAA,QACvE;AAEA,YAAI,OAAO,CAAC,GAAG,SAAS;AAAG,iBAAO,EAAE;AAAA,MACtC,CAAC;AAED,eAAS,iBAAiB,IAAI;AAC5B,YAAI,GAAG,MAAM,aAAa;AACxB,aAAG,MAAM,YAAY,WAAW,YAAY,GAAG,MAAM,WAAW;AAChE,aAAG,MAAM,cAAc;AAAA,QACzB;AAAA,MACF;AACA,eAAS,eAAe,IAAI;AAC1B,yBAAiB,EAAE;AACnB,YAAI,MAAM,GAAG,MAAM,cAAc,SAAS,cAAc,KAAK;AAC7D,YAAI,MAAM,UAAU;AACpB,YAAI,MAAM,YAAY,GAAG,UAAU,WAAW;AAC9C,YAAI,YAAY;AAChB,YAAI,cAAc,GAAG,UAAU,aAAa;AAC5C,YAAI,OAAO,eAAe;AAAU,wBAAc,SAAS,eAAe,WAAW;AACrF,YAAI,YAAY,WAAW;AAC3B,WAAG,QAAQ,UAAU,aAAa,KAAK,GAAG,QAAQ,UAAU,UAAU;AAAA,MACxE;AAEA,eAAS,cAAc,IAAI;AACzB,mBAAW,WAAW;AACpB,cAAI,QAAQ;AACZ,cAAI,GAAG,UAAU,KAAK,GAAG;AACvB,gBAAI,QAAQ,GAAG,cAAc;AAC7B,oBAAQ,MAAM,YAAY,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,SAClD,CAAC,YAAY,KAAK,MAAM,cAAc,kBAAkB,EAAE,WAAW;AAAA,UAC3E;AACA,cAAI;AAAO,2BAAe,EAAE;AAAA;AACvB,6BAAiB,EAAE;AAAA,QAC1B,GAAG,EAAE;AAAA,MACP;AAEA,eAAS,OAAO,IAAI;AAClB,YAAI,QAAQ,EAAE;AAAG,yBAAe,EAAE;AAAA,MACpC;AACA,eAAS,SAAS,IAAI;AACpB,YAAI,UAAU,GAAG,kBAAkB,GAAG,QAAQ,QAAQ,EAAE;AACxD,gBAAQ,YAAY,QAAQ,UAAU,QAAQ,qBAAqB,EAAE,KAAK,QAAQ,sBAAsB;AAExG,YAAI;AAAO,yBAAe,EAAE;AAAA;AACvB,2BAAiB,EAAE;AAAA,MAC1B;AAEA,eAAS,QAAQ,IAAI;AACnB,eAAQ,GAAG,UAAU,MAAM,KAAO,GAAG,QAAQ,CAAC,MAAM;AAAA,MACtD;AAAA,IACF,CAAC;AAAA;AAAA;",
  "names": ["CodeMirror"]
}
