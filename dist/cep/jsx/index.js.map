{"version":3,"file":"index.js","sources":["../../../cep.config.ts","../../../src/shared/shared.ts","../../../src/jsx/aeft/aeft.ts","../../../src/jsx/index.ts"],"sourcesContent":["import { CEP_Config } from \"vite-cep-plugin\";\r\nimport { version } from \"./package.json\";\r\n\r\n\r\nconst config: CEP_Config = {\r\n  version,\r\n  id: \"com.RenderLogistic.cep\",\r\n  displayName: \"Render Logistic\",\r\n  symlink: \"local\",\r\n  port: 1399,\r\n  servePort: 5000,\r\n  startingDebugPort: 9999,\r\n  extensionManifestVersion: 6.0,\r\n  requiredRuntimeVersion: 9.0,\r\n  hosts: [\r\n    { name: \"AEFT\", version: \"[0.0,99.9]\" }\r\n  ],\r\n  type: \"Panel\",\r\n  iconDarkNormal: \"./src/assets/light-icon.png\",\r\n  iconNormal: \"./src/assets/dark-icon.png\",\r\n  iconDarkNormalRollOver: \"./src/assets/light-icon.png\",\r\n  iconNormalRollOver: \"./src/assets/dark-icon.png\",\r\n  parameters: [\"--v=0\", \"--enable-nodejs\", \"--mixed-context\"],\r\n  width: 600,\r\n  height: 550,\r\n\r\n  panels: [\r\n    {\r\n      mainPath: \"./main/index.html\",\r\n      name: \"main\",\r\n      panelDisplayName: \"Render Logistic\",\r\n      autoVisible: true,\r\n      width: 600,\r\n      height: 650,\r\n    },\r\n\r\n  ],\r\n  build: {\r\n    jsxBin: \"off\",\r\n    sourceMap: true,\r\n  },\r\n  zxp: {\r\n    country: \"AL\",\r\n    province: \"TR\",\r\n    org: \"prodata.dev\",\r\n    password: \"mypassword\",\r\n    tsa: \"http://timestamp.digicert.com/\",\r\n    sourceMap: false,\r\n    jsxBin: \"off\",\r\n  },\r\n  installModules: [],\r\n  copyAssets: [],\r\n  copyZipAssets: [],\r\n};\r\nexport default config;\r\n","import config from \"../../cep.config\";\r\nexport const ns = config.id;\r\n","export const getSelectedPropertyPath = () => {\r\n\r\n    var comp = app.project.activeItem;\r\n\r\n    function findDeepestSelectedProp() {\r\n        var deepestProp, numDeepestProps = 0, deepestPropDepth = 0;\r\n        for (var i = 0; i < comp.selectedProperties.length; i++) {\r\n            var prop = comp.selectedProperties[i];\r\n            if (prop.propertyDepth >= deepestPropDepth) {\r\n                if (prop.propertyDepth > deepestPropDepth) numDeepestProps = 0;\r\n                deepestProp = prop;\r\n                numDeepestProps++;\r\n                deepestPropDepth = prop.propertyDepth;\r\n            }\r\n        }\r\n        return (numDeepestProps > 1) ? null : deepestProp;\r\n    }\r\n\r\n    var prop = findDeepestSelectedProp();\r\n    if (\r\n        prop === null\r\n        || prop === undefined\r\n        || prop.value === undefined\r\n        || comp.selectedLayers.length === 0\r\n    ) {\r\n        alert(\"Please select a single property that holds a value.\");\r\n        return;\r\n    }\r\n\r\n    var scriptCode = \"\";\r\n    var currProp = prop;\r\n    while (currProp !== null) {\r\n        // Check for layer property on the parent (shape layer) first\r\n        if (currProp.propertyIndex < 1) {\r\n            scriptCode = \".layer(\\\"\" + currProp.name + \"\\\")\" + scriptCode;\r\n        } else {\r\n            // If not a shape layer, use matchName for other properties\r\n            scriptCode = \".property(\\\"\" + currProp.name + \"\\\")\" + scriptCode;\r\n            // scriptCode = \".property(\" + currProp.propertyIndex + \")\" + scriptCode;\r\n        }\r\n        currProp = currProp.parentProperty;\r\n    }\r\n\r\n    var compID = comp.id;\r\n    var fullPath = \"app.project.itemByID(\" + compID + \")\" + scriptCode;\r\n    // var fullPathWithFunction = \"(function() {return app.project.itemByID(\" + compID + \")\" + scriptCode + \"})()\";\r\n    // var val = eval(fullPath);\r\n    // alert(val);\r\n    return fullPath;\r\n};","// @include './lib/json2.js'\r\n\r\nimport { ns } from \"../shared/shared\";\r\n\r\nimport * as aeft from \"./aeft/aeft\";\r\n\r\n//@ts-ignore\r\nconst host = typeof $ !== \"undefined\" ? $ : window;\r\n\r\nswitch (BridgeTalk.appName as ApplicationName) {\r\n  case \"aftereffects\":\r\n  case \"aftereffectsbeta\":\r\n    host[ns] = aeft;\r\n    break;\r\n}\r\n\r\nexport type Scripts = typeof aeft\r\n\r\n// https://extendscript.docsforadobe.dev/interapplication-communication/bridgetalk-class.html?highlight=bridgetalk#appname\r\ntype ApplicationName =\r\n  | \"aftereffects\"\r\n  | \"aftereffectsbeta\"\r\n  | \"ame\"\r\n  | \"amebeta\"\r\n  | \"audition\"\r\n  | \"auditionbeta\"\r\n  | \"bridge\"\r\n  | \"bridgebeta\"\r\n  // | \"flash\"\r\n  | \"illustrator\"\r\n  | \"illustratorbeta\"\r\n  | \"indesign\"\r\n  | \"indesignbeta\"\r\n  // | \"indesignserver\"\r\n  | \"photoshop\"\r\n  | \"photoshopbeta\"\r\n  | \"premierepro\"\r\n  | \"premiereprobeta\";\r\n"],"names":["version","id","displayName","symlink","port","servePort","startingDebugPort","extensionManifestVersion","requiredRuntimeVersion","hosts","name","type","iconDarkNormal","iconNormal","iconDarkNormalRollOver","iconNormalRollOver","parameters","width","height","panels","mainPath","panelDisplayName","autoVisible","build","jsxBin","sourceMap","zxp","country","province","org","password","tsa","installModules","copyAssets","copyZipAssets","numDeepestProps","deepestPropDepth","deepestProp","host"],"mappings":";;AAIA;AACEA;AACAC;AACAC;AACAC;AACAC;AACAC;AACAC;AACAC;AACAC;AACAC;AACIC;AAAcV;AAAsB;AAExCW;AACAC;AACAC;AACAC;AACAC;AACAC;AACAC;AACAC;AAEAC;AAEIC;AACAV;AACAW;AACAC;AACAL;AACAC;AACF;AAGFK;AACEC;AACAC;;AAEFC;AACEC;AACAC;AACAC;AACAC;AACAC;AACAN;AACAD;;AAEFQ;AACAC;AACAC;AACF;;ACpDA;;ACDA;AAEI;;AAGI;AAAiBC;AAAqBC;AACtC;AACI;AACA;;AAEIC;AACAF;;AAEJ;AACJ;AACA;AACJ;AAEA;;;AAQI;AACJ;;;;AAKI;AACA;;AAEA;AACI;;AAEA;AACJ;;AAEJ;AAEA;;AAEA;AACA;AACA;AACA;AACJ;;;;;;;AC1CA;AAEA;AACE;AACA;AACEG;AACA;AACJ;;AAIA"}